<!--
本文件由智谱 AI 自动翻译生成
原文件: gearbox-specification.md
翻译时间: 2025-12-12 16:11:14
翻译模型: glm-4-flash
原文大小: 6,634 字符
-->

---

# 汽车变速箱控制系统 - 规范

## 1. 系统概述

汽车变速箱控制系统是一个电子控制单元（ECU），用于管理半自动变速箱的换挡。该系统监控车辆条件和驾驶员输入，以确定最佳档位选择并执行平稳的换挡。

## 2. 系统组件

### 2.1 输入传感器
- **车速传感器**：测量当前速度（0-200 km/h）
- **发动机转速传感器**：测量发动机转速（0-7000 RPM）
- **油门位置传感器**：测量油门踏板位置（0-100%）
- **制动压力传感器**：检测制动应用
- **离合器位置传感器**：监控离合器接合状态
- **档位位置传感器**：检测当前档位（N，1-6，R）

### 2.2 驾驶员控制
- **档位选择器**：手动、运动、经济模式
- **换挡拨片**：手动上下换挡请求
- **离合器踏板**：手动离合器控制（如适用）

### 2.3 输出
- **档位执行器**：机械档位选择
- **离合器执行器**：离合器接合/分离
- **仪表盘显示**：当前档位指示器
- **警告灯**：系统错误和警报

## 3. 操作模式

### 3.1 手动模式
- 驾驶员完全控制档位选择
- 系统防止无效换挡（例如，直接从5档到1档）
- 降档时转速匹配
- 中性安全：从停车档/中性档换挡需要制动

### 3.2 运动模式
- 保持档位更长时间以获得更高的转速
- 更快的换挡
- 硬制动时降档
- 目标换挡点：5000-6500 RPM

### 3.3 经济模式
- 提前升档以提高燃油效率
- 目标换挡点：2000-3000 RPM
- 平滑、渐进的换挡
- 跳档能力（例如，从2档到4档）

## 4. 功能需求

### 4.1 换挡逻辑

#### 4.1.1 升档条件
- **经济模式**：发动机转速 > 2500 且油门 < 40%
- **手动模式**：驾驶员拨片输入或转速 > 6000
- **运动模式**：发动机转速 > 5500

#### 4.1.2 降档条件
- **经济模式**：发动机转速 < 1500 或重油门（>80%）
- **手动模式**：驾驶员拨片输入或转速 < 1200
- **运动模式**：发动机转速 < 2000 或制动压力 > 50%

#### 4.1.3 禁止换挡
- 无法在不停车的情况下从倒档换到任何前进档（速度 = 0）
- 无法在移动时从任何前进档换到倒档（速度 > 0）
- 单次换挡中不能跳过超过2个档位（除计算机控制的跳档外）
- 如果结果转速会超过7000，则不能降档（红线保护）

### 4.2 安全功能

#### 4.2.1 上坡起步辅助
- 激活条件：在大于5%的坡道上停车且制动释放
- 保持制动压力2秒
- 防止后滑

#### 4.2.2 超速保护
- 如果结果发动机转速 > 6500，则防止降档
- 向驾驶员显示警告信息
- 如果不安全，则忽略拨片输入

#### 4.2.3 熄火预防
- 如果移动时发动机转速 < 800，则自动降档
- 如果停车且在档位上停留超过3秒，则自动挂空档
- 如果速度低于当前档位的最低速度，则离合器打滑

#### 4.2.4 中性安全
- 只允许在停车档或空档启动发动机
- 从停车档换挡需要制动踏板
- 倒档需要完全停止（速度 = 0 km/h）

### 4.3 错误处理

#### 4.3.1 传感器故障
- **速度传感器故障**：限制到当前档位，禁用自动换挡
- **转速传感器故障**：使用基于速度的换挡逻辑作为后备
- **油门传感器故障**：默认到保守的换挡点
- **多个传感器故障**：进入拖车模式（仅3档）

#### 4.3.2 执行器故障
- **档位执行器卡住**：尝试3次，每次延迟200ms
- **离合器执行器故障**：锁定当前档位，显示警告
- **液压压力低**：降低换挡速度，显示警告

#### 4.3.3 温度管理
- **正常操作**：70-110°C
- **高温警告**：110-130°C（减少换挡频率）
- **临界温度**：>130°C（拖车模式，仅3档）

## 5. 性能需求

### 5.1 换挡时间
- **经济模式**：每次换挡800-1200 ms
- **手动模式**：每次换挡400-600 ms
- **运动模式**：每次换挡150-300 ms

### 5.2 响应时间
- **拨片输入**：< 50 ms识别
- **制动检测**：< 20 ms
- **紧急空档**：< 100 ms

### 5.3 可靠性
- **MTBF**：> 150,000 km
- **换挡成功率**：> 99.5%
- **错误率**：< 0.1%

## 6. 环境条件

### 6.1 操作温度
- **正常**：-20°C至+50°C环境温度
- **变速箱油**：-10°C至+130°C

### 6.2 海拔
- **海平面至3000m**：正常操作
- **3000m至5000m**：调整换挡点以适应降低的空气密度

### 6.3 天气条件
- 雨、雪、冰：减少换挡积极性
- 通过车轮滑移传感器和ABS集成检测

## 7. 用户界面需求

### 7.1 仪表盘显示
- 当前档位号（1-6，R，N，P）
- 选择模式（手动、运动、经济）
- 换挡指示器（上下箭头）
- 警告信息（文本+图标）

### 7.2 警告信息
- “变速箱过热”（黄色）
- “无法换挡”（红色）
- “需要服务”（黄色）
- “拖车模式激活”（红色）

### 7.3 用户反馈
- 换挡确认（微妙指示灯闪烁）
- 拨片输入确认（如有，则提供触觉反馈）
- 临界错误音频警告

## 8. 集成需求

### 8.1 发动机控制单元（ECU）
- 换挡时请求扭矩降低
- 转速同步以实现平稳接合
- 发动机制动协调

### 8.2 防抱死制动系统（ABS）
- 车轮滑移检测用于牵引控制
- 紧急制动档位保持
- 稳定控制集成

### 8.3 电子稳定控制（ESC）
- 扭矩矢量支持
- 飙车模式兼容性（运动模式）
- 牵引控制协调

## 9. 验证需求

### 9.1 单元测试
- 单个传感器输入验证
- 换挡逻辑决策树
- 安全功能触发

### 9.2 集成测试
- 多模式操作
- 传感器故障场景
- ECU通信

### 9.3 系统测试
- 实际驾驶场景
- 极端条件测试
- 长期可靠性测试

## 10. 约束和假设

### 10.1 物理约束
- 最大传动比：1:6.5（1档）至1:0.85（6档）
- 离合器接合时间：200-400 ms
- 液压系统压力：8-12 bar

### 10.2 系统假设
- 传感器在±5%公差范围内提供准确的读数
- ECU通信延迟 < 10 ms
- 电池电压保持在12-14V

### 10.3 法规遵从性
- ISO 26262（汽车安全完整性等级 - ASIL C）
- UNECE R13（制动法规）
- 遵守当地排放标准