<!--
本文件由智谱 AI 自动翻译生成
原文件: SKILL.md
翻译时间: 2025-12-12 16:12:45
翻译模型: glm-4-flash
原文大小: 3,645 字符
-->

---
name: review-implementing
description: 系统化处理和实施代码审查反馈。当用户提供审查者评论、PR 反馈、代码审查笔记或要求实施审查建议时使用。
---

# 代码审查反馈实施

系统化地根据代码审查反馈处理和实施更改。

## 使用场景

- 提供审查者评论或反馈
- 粘贴 PR 审查笔记
- 提到实施审查建议
- 说“处理这些评论”或“实施反馈”
- 分享审查者要求更改的列表

## 系统化工作流程

### 1. 解析审查者笔记

识别单个反馈项：
- 分割编号列表（1.、2.等）
- 处理项目符号或未编号的反馈
- 提取不同的更改请求
- 在开始之前澄清模糊项

### 2. 创建待办事项列表

使用 TodoWrite 工具创建可执行的任务：
- 每个反馈项成为一项或多项待办事项
- 将复杂的反馈分解成更小的任务
- 使任务具体且可衡量
- 在开始之前将第一个任务标记为 `in_progress`

示例：
```
- 为提取函数添加类型提示
- 修复重复标签检测逻辑
- 更新 chain.py 中的文档字符串
- 添加边缘情况的单元测试
```

### 3. 系统化实施更改

对于每个待办事项：

**定位相关代码：**
- 使用 Grep 搜索函数/类
- 使用 Glob 通过模式查找文件
- 读取当前实现

**进行更改：**
- 使用 Edit 工具进行修改
- 遵循项目约定（CLAUDE.md）
- 除非更改行为，否则保留现有功能

**验证更改：**
- 检查语法正确性
- 如果适用，运行相关测试
- 确保更改解决了审查者的意图

**更新状态：**
- 在完成后将待办事项标记为 `completed`
- 移至下一个待办事项（一次只有一个 `in_progress`）

### 4. 处理不同类型的反馈

**代码更改：**
- 使用 Edit 工具对现有代码进行修改
- 遵循类型提示约定（PEP 604/585）
- 保持一致的样式

**新功能：**
- 如果需要，使用 Write 工具创建新文件
- 添加相应的测试
- 更新文档

**文档：**
- 按照项目风格更新文档字符串
- 根据需要修改 markdown 文件
- 保持解释简洁

**测试：**
- 将测试编写为函数，而不是类
- 使用描述性名称
- 遵循 pytest 约定

**重构：**
- 保留功能
- 改善代码结构
- 运行测试以验证没有回归

### 5. 验证

实施更改后：
- 运行受影响的测试
- 检查代码风格错误：`uv run ruff check`
- 验证更改不会破坏现有功能

### 6. 沟通

保持用户知情：
- 实时更新待办事项列表
- 对模糊的反馈请求澄清
- 报告阻塞器或挑战
- 在完成时总结更改

## 边界情况

**冲突的反馈：**
- 向用户寻求指导
- 清楚地解释冲突

**需要破坏性更改：**
- 在实施之前通知用户
- 讨论影响和替代方案

**更改后测试失败：**
- 在标记待办事项完成之前修复测试
- 确保所有相关测试通过

**引用的代码不存在：**
- 向用户寻求澄清
- 在继续之前验证理解

## 重要指南

- **始终使用 TodoWrite** 跟踪进度
- **立即标记待办事项完成** 
- **一次只有一个待办事项在进度中**
- **不要批量完成** - 实时更新状态
- **对不清晰的反馈提问**
- **如果更改影响测试代码，则运行测试**
- **对于所有代码更改，遵循 CLAUDE.md 约定**
- **如果之后创建提交，则使用常规提交**